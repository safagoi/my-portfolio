---
---

<div id="theme-changer">
    <input id="theme-input" type="checkbox" />
</div>

<script>
    const themeChangerElement = document.getElementById("theme-changer")!;
    const themeChangerInput = themeChangerElement.querySelector(
        "#theme-input"
    )! as HTMLInputElement;

    // Obtener tema del localStorage
    const currentTheme = localStorage.getItem("theme");

    // Si existe valor del tema en el localstorage
    if (currentTheme) {
        // Establecemos en el body el data-theme para que
        // coincida con el del localstorage
        document.documentElement.setAttribute("data-theme", currentTheme);

        if (currentTheme === "dark") {
            themeChangerInput.checked = true;
        }
    }

    function switchTheme(e) {
        if (e.target.checked) {
            document.documentElement.setAttribute("data-theme", "dark");
            localStorage.setItem("theme", "dark");
        } else {
            document.documentElement.setAttribute("data-theme", "light");
            localStorage.setItem("theme", "light");
        }
    }

    // Add an event listener to the theme toggle, which will switch the theme
    themeChangerInput.addEventListener("change", switchTheme, false);
</script>

<style lang="scss">
    #theme-changer {
        input {
        }
    }
</style>
